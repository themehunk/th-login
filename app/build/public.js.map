{"version":3,"file":"public.js","mappings":";;;;;;;;;;;;0BACA,uKAAAA,CAAA,EAAAC,CAAA,EAAAC,CAAA,wBAAAC,MAAA,GAAAA,MAAA,OAAAC,CAAA,GAAAF,CAAA,CAAAG,QAAA,kBAAAC,CAAA,GAAAJ,CAAA,CAAAK,WAAA,8BAAAC,EAAAN,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAE,CAAA,QAAAC,CAAA,GAAAL,CAAA,IAAAA,CAAA,CAAAM,SAAA,YAAAC,SAAA,GAAAP,CAAA,GAAAO,SAAA,EAAAC,CAAA,GAAAC,MAAA,CAAAC,MAAA,CAAAL,CAAA,CAAAC,SAAA,UAAAK,mBAAA,CAAAH,CAAA,uBAAAV,CAAA,EAAAE,CAAA,EAAAE,CAAA,QAAAE,CAAA,EAAAC,CAAA,EAAAG,CAAA,EAAAI,CAAA,MAAAC,CAAA,GAAAX,CAAA,QAAAY,CAAA,OAAAC,CAAA,KAAAF,CAAA,KAAAb,CAAA,KAAAgB,CAAA,EAAApB,CAAA,EAAAqB,CAAA,EAAAC,CAAA,EAAAN,CAAA,EAAAM,CAAA,CAAAC,IAAA,CAAAvB,CAAA,MAAAsB,CAAA,WAAAA,EAAArB,CAAA,EAAAC,CAAA,WAAAM,CAAA,GAAAP,CAAA,EAAAQ,CAAA,MAAAG,CAAA,GAAAZ,CAAA,EAAAmB,CAAA,CAAAf,CAAA,GAAAF,CAAA,EAAAmB,CAAA,gBAAAC,EAAApB,CAAA,EAAAE,CAAA,SAAAK,CAAA,GAAAP,CAAA,EAAAU,CAAA,GAAAR,CAAA,EAAAH,CAAA,OAAAiB,CAAA,IAAAF,CAAA,KAAAV,CAAA,IAAAL,CAAA,GAAAgB,CAAA,CAAAO,MAAA,EAAAvB,CAAA,UAAAK,CAAA,EAAAE,CAAA,GAAAS,CAAA,CAAAhB,CAAA,GAAAqB,CAAA,GAAAH,CAAA,CAAAF,CAAA,EAAAQ,CAAA,GAAAjB,CAAA,KAAAN,CAAA,QAAAI,CAAA,GAAAmB,CAAA,KAAArB,CAAA,MAAAQ,CAAA,GAAAJ,CAAA,EAAAC,CAAA,GAAAD,CAAA,YAAAC,CAAA,WAAAD,CAAA,MAAAA,CAAA,MAAAR,CAAA,IAAAQ,CAAA,OAAAc,CAAA,MAAAhB,CAAA,GAAAJ,CAAA,QAAAoB,CAAA,GAAAd,CAAA,QAAAC,CAAA,MAAAU,CAAA,CAAAC,CAAA,GAAAhB,CAAA,EAAAe,CAAA,CAAAf,CAAA,GAAAI,CAAA,OAAAc,CAAA,GAAAG,CAAA,KAAAnB,CAAA,GAAAJ,CAAA,QAAAM,CAAA,MAAAJ,CAAA,IAAAA,CAAA,GAAAqB,CAAA,MAAAjB,CAAA,MAAAN,CAAA,EAAAM,CAAA,MAAAJ,CAAA,EAAAe,CAAA,CAAAf,CAAA,GAAAqB,CAAA,EAAAhB,CAAA,cAAAH,CAAA,IAAAJ,CAAA,aAAAmB,CAAA,QAAAH,CAAA,OAAAd,CAAA,qBAAAE,CAAA,EAAAW,CAAA,EAAAQ,CAAA,QAAAT,CAAA,YAAAU,SAAA,uCAAAR,CAAA,UAAAD,CAAA,IAAAK,CAAA,CAAAL,CAAA,EAAAQ,CAAA,GAAAhB,CAAA,GAAAQ,CAAA,EAAAL,CAAA,GAAAa,CAAA,GAAAxB,CAAA,GAAAQ,CAAA,OAAAT,CAAA,GAAAY,CAAA,MAAAM,CAAA,KAAAV,CAAA,KAAAC,CAAA,GAAAA,CAAA,QAAAA,CAAA,SAAAU,CAAA,CAAAf,CAAA,QAAAkB,CAAA,CAAAb,CAAA,EAAAG,CAAA,KAAAO,CAAA,CAAAf,CAAA,GAAAQ,CAAA,GAAAO,CAAA,CAAAC,CAAA,GAAAR,CAAA,aAAAI,CAAA,MAAAR,CAAA,QAAAC,CAAA,KAAAH,CAAA,YAAAL,CAAA,GAAAO,CAAA,CAAAF,CAAA,WAAAL,CAAA,GAAAA,CAAA,CAAA0B,IAAA,CAAAnB,CAAA,EAAAI,CAAA,UAAAc,SAAA,2CAAAzB,CAAA,CAAA2B,IAAA,SAAA3B,CAAA,EAAAW,CAAA,GAAAX,CAAA,CAAA4B,KAAA,EAAApB,CAAA,SAAAA,CAAA,oBAAAA,CAAA,KAAAR,CAAA,GAAAO,CAAA,eAAAP,CAAA,CAAA0B,IAAA,CAAAnB,CAAA,GAAAC,CAAA,SAAAG,CAAA,GAAAc,SAAA,uCAAApB,CAAA,gBAAAG,CAAA,OAAAD,CAAA,GAAAR,CAAA,cAAAC,CAAA,IAAAiB,CAAA,GAAAC,CAAA,CAAAf,CAAA,QAAAQ,CAAA,GAAAV,CAAA,CAAAyB,IAAA,CAAAvB,CAAA,EAAAe,CAAA,OAAAE,CAAA,kBAAApB,CAAA,IAAAO,CAAA,GAAAR,CAAA,EAAAS,CAAA,MAAAG,CAAA,GAAAX,CAAA,cAAAe,CAAA,mBAAAa,KAAA,EAAA5B,CAAA,EAAA2B,IAAA,EAAAV,CAAA,SAAAhB,CAAA,EAAAI,CAAA,EAAAE,CAAA,QAAAI,CAAA,QAAAS,CAAA,gBAAAV,UAAA,cAAAmB,kBAAA,cAAAC,2BAAA,KAAA9B,CAAA,GAAAY,MAAA,CAAAmB,cAAA,MAAAvB,CAAA,MAAAL,CAAA,IAAAH,CAAA,CAAAA,CAAA,IAAAG,CAAA,SAAAW,mBAAA,CAAAd,CAAA,OAAAG,CAAA,iCAAAH,CAAA,GAAAW,CAAA,GAAAmB,0BAAA,CAAArB,SAAA,GAAAC,SAAA,CAAAD,SAAA,GAAAG,MAAA,CAAAC,MAAA,CAAAL,CAAA,YAAAO,EAAAhB,CAAA,WAAAa,MAAA,CAAAoB,cAAA,GAAApB,MAAA,CAAAoB,cAAA,CAAAjC,CAAA,EAAA+B,0BAAA,KAAA/B,CAAA,CAAAkC,SAAA,GAAAH,0BAAA,EAAAhB,mBAAA,CAAAf,CAAA,EAAAM,CAAA,yBAAAN,CAAA,CAAAU,SAAA,GAAAG,MAAA,CAAAC,MAAA,CAAAF,CAAA,GAAAZ,CAAA,WAAA8B,iBAAA,CAAApB,SAAA,GAAAqB,0BAAA,EAAAhB,mBAAA,CAAAH,CAAA,iBAAAmB,0BAAA,GAAAhB,mBAAA,CAAAgB,0BAAA,iBAAAD,iBAAA,GAAAA,iBAAA,CAAAK,WAAA,wBAAApB,mBAAA,CAAAgB,0BAAA,EAAAzB,CAAA,wBAAAS,mBAAA,CAAAH,CAAA,GAAAG,mBAAA,CAAAH,CAAA,EAAAN,CAAA,gBAAAS,mBAAA,CAAAH,CAAA,EAAAR,CAAA,iCAAAW,mBAAA,CAAAH,CAAA,8DAAAwB,YAAA,YAAAA,aAAA,aAAAC,CAAA,EAAA7B,CAAA,EAAA8B,CAAA,EAAAtB,CAAA;AAAA,SAAAD,oBAAAf,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAH,CAAA,QAAAO,CAAA,GAAAK,MAAA,CAAA0B,cAAA,QAAA/B,CAAA,uBAAAR,CAAA,IAAAQ,CAAA,QAAAO,mBAAA,YAAAyB,mBAAAxC,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAH,CAAA,QAAAC,CAAA,EAAAM,CAAA,GAAAA,CAAA,CAAAR,CAAA,EAAAE,CAAA,IAAA2B,KAAA,EAAAzB,CAAA,EAAAqC,UAAA,GAAAxC,CAAA,EAAAyC,YAAA,GAAAzC,CAAA,EAAA0C,QAAA,GAAA1C,CAAA,MAAAD,CAAA,CAAAE,CAAA,IAAAE,CAAA,YAAAE,CAAA,YAAAA,EAAAJ,CAAA,EAAAE,CAAA,IAAAW,mBAAA,CAAAf,CAAA,EAAAE,CAAA,YAAAF,CAAA,gBAAA4C,OAAA,CAAA1C,CAAA,EAAAE,CAAA,EAAAJ,CAAA,UAAAM,CAAA,aAAAA,CAAA,cAAAA,CAAA,oBAAAS,mBAAA,CAAAf,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAH,CAAA;AAAA,SAAA4C,eAAA3C,CAAA,EAAAF,CAAA,WAAA8C,eAAA,CAAA5C,CAAA,KAAA6C,qBAAA,CAAA7C,CAAA,EAAAF,CAAA,KAAAgD,2BAAA,CAAA9C,CAAA,EAAAF,CAAA,KAAAiD,gBAAA;AAAA,SAAAA,iBAAA,cAAAvB,SAAA;AAAA,SAAAqB,sBAAA7C,CAAA,EAAAuB,CAAA,QAAAxB,CAAA,WAAAC,CAAA,gCAAAC,MAAA,IAAAD,CAAA,CAAAC,MAAA,CAAAE,QAAA,KAAAH,CAAA,4BAAAD,CAAA,QAAAD,CAAA,EAAAI,CAAA,EAAAI,CAAA,EAAAI,CAAA,EAAAS,CAAA,OAAAL,CAAA,OAAAV,CAAA,iBAAAE,CAAA,IAAAP,CAAA,GAAAA,CAAA,CAAA0B,IAAA,CAAAzB,CAAA,GAAAgD,IAAA,QAAAzB,CAAA,QAAAZ,MAAA,CAAAZ,CAAA,MAAAA,CAAA,UAAAe,CAAA,uBAAAA,CAAA,IAAAhB,CAAA,GAAAQ,CAAA,CAAAmB,IAAA,CAAA1B,CAAA,GAAA2B,IAAA,MAAAP,CAAA,CAAA8B,IAAA,CAAAnD,CAAA,CAAA6B,KAAA,GAAAR,CAAA,CAAAG,MAAA,KAAAC,CAAA,GAAAT,CAAA,iBAAAd,CAAA,IAAAI,CAAA,OAAAF,CAAA,GAAAF,CAAA,yBAAAc,CAAA,YAAAf,CAAA,eAAAW,CAAA,GAAAX,CAAA,cAAAY,MAAA,CAAAD,CAAA,MAAAA,CAAA,2BAAAN,CAAA,QAAAF,CAAA,aAAAiB,CAAA;AAAA,SAAAyB,gBAAA5C,CAAA,QAAAkD,KAAA,CAAAC,OAAA,CAAAnD,CAAA,UAAAA,CAAA;AAAA,SAAAoD,2BAAApD,CAAA,EAAAF,CAAA,QAAAC,CAAA,yBAAAE,MAAA,IAAAD,CAAA,CAAAC,MAAA,CAAAE,QAAA,KAAAH,CAAA,qBAAAD,CAAA,QAAAmD,KAAA,CAAAC,OAAA,CAAAnD,CAAA,MAAAD,CAAA,GAAA+C,2BAAA,CAAA9C,CAAA,MAAAF,CAAA,IAAAE,CAAA,uBAAAA,CAAA,CAAAsB,MAAA,IAAAvB,CAAA,KAAAC,CAAA,GAAAD,CAAA,OAAAsD,EAAA,MAAAC,CAAA,YAAAA,EAAA,eAAAC,CAAA,EAAAD,CAAA,EAAApD,CAAA,WAAAA,EAAA,WAAAmD,EAAA,IAAArD,CAAA,CAAAsB,MAAA,KAAAI,IAAA,WAAAA,IAAA,MAAAC,KAAA,EAAA3B,CAAA,CAAAqD,EAAA,UAAAvD,CAAA,WAAAA,EAAAE,CAAA,UAAAA,CAAA,KAAAc,CAAA,EAAAwC,CAAA,gBAAA9B,SAAA,iJAAApB,CAAA,EAAAe,CAAA,OAAAT,CAAA,gBAAA6C,CAAA,WAAAA,EAAA,IAAAxD,CAAA,GAAAA,CAAA,CAAA0B,IAAA,CAAAzB,CAAA,MAAAE,CAAA,WAAAA,EAAA,QAAAF,CAAA,GAAAD,CAAA,CAAAiD,IAAA,WAAA7B,CAAA,GAAAnB,CAAA,CAAA0B,IAAA,EAAA1B,CAAA,KAAAF,CAAA,WAAAA,EAAAE,CAAA,IAAAU,CAAA,OAAAN,CAAA,GAAAJ,CAAA,KAAAc,CAAA,WAAAA,EAAA,UAAAK,CAAA,YAAApB,CAAA,cAAAA,CAAA,8BAAAW,CAAA,QAAAN,CAAA;AAAA,SAAA0C,4BAAA9C,CAAA,EAAAmB,CAAA,QAAAnB,CAAA,2BAAAA,CAAA,SAAAwD,iBAAA,CAAAxD,CAAA,EAAAmB,CAAA,OAAApB,CAAA,MAAA0D,QAAA,CAAAhC,IAAA,CAAAzB,CAAA,EAAA0D,KAAA,6BAAA3D,CAAA,IAAAC,CAAA,CAAA2D,WAAA,KAAA5D,CAAA,GAAAC,CAAA,CAAA2D,WAAA,CAAAC,IAAA,aAAA7D,CAAA,cAAAA,CAAA,GAAAmD,KAAA,CAAAW,IAAA,CAAA7D,CAAA,oBAAAD,CAAA,+CAAA+D,IAAA,CAAA/D,CAAA,IAAAyD,iBAAA,CAAAxD,CAAA,EAAAmB,CAAA;AAAA,SAAAqC,kBAAAxD,CAAA,EAAAmB,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAnB,CAAA,CAAAsB,MAAA,MAAAH,CAAA,GAAAnB,CAAA,CAAAsB,MAAA,YAAAxB,CAAA,MAAAI,CAAA,GAAAgD,KAAA,CAAA/B,CAAA,GAAArB,CAAA,GAAAqB,CAAA,EAAArB,CAAA,IAAAI,CAAA,CAAAJ,CAAA,IAAAE,CAAA,CAAAF,CAAA,UAAAI,CAAA;AAAA,SAAA6D,mBAAA7D,CAAA,EAAAH,CAAA,EAAAD,CAAA,EAAAE,CAAA,EAAAI,CAAA,EAAAe,CAAA,EAAAZ,CAAA,cAAAD,CAAA,GAAAJ,CAAA,CAAAiB,CAAA,EAAAZ,CAAA,GAAAG,CAAA,GAAAJ,CAAA,CAAAqB,KAAA,WAAAzB,CAAA,gBAAAJ,CAAA,CAAAI,CAAA,KAAAI,CAAA,CAAAoB,IAAA,GAAA3B,CAAA,CAAAW,CAAA,IAAAsD,OAAA,CAAAC,OAAA,CAAAvD,CAAA,EAAAwD,IAAA,CAAAlE,CAAA,EAAAI,CAAA;AAAA,SAAA+D,kBAAAjE,CAAA,6BAAAH,CAAA,SAAAD,CAAA,GAAAsE,SAAA,aAAAJ,OAAA,WAAAhE,CAAA,EAAAI,CAAA,QAAAe,CAAA,GAAAjB,CAAA,CAAAmE,KAAA,CAAAtE,CAAA,EAAAD,CAAA,YAAAwE,MAAApE,CAAA,IAAA6D,kBAAA,CAAA5C,CAAA,EAAAnB,CAAA,EAAAI,CAAA,EAAAkE,KAAA,EAAAC,MAAA,UAAArE,CAAA,cAAAqE,OAAArE,CAAA,IAAA6D,kBAAA,CAAA5C,CAAA,EAAAnB,CAAA,EAAAI,CAAA,EAAAkE,KAAA,EAAAC,MAAA,WAAArE,CAAA,KAAAoE,KAAA;AADA;AACA;AACgC;AAChC;AACAE,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAM;EAEhD;EACA,IAAMC,KAAK,GAAGF,QAAQ,CAACG,cAAc,CAAC,sBAAsB,CAAC;EAC7D,IAAMC,WAAW,GAAGF,KAAK,GAAGA,KAAK,CAACG,aAAa,CAAC,8BAA8B,CAAC,GAAG,IAAI;EACtF,IAAMC,OAAO,GAAGJ,KAAK,GAAGA,KAAK,CAACG,aAAa,CAAC,yBAAyB,CAAC,GAAG,IAAI;EAC7E,IAAME,aAAa,GAAGL,KAAK,GAAGA,KAAK,CAACG,aAAa,CAAC,gCAAgC,CAAC,GAAG,IAAI;;EAE1F;EACA,IAAMG,SAAS,GAAGN,KAAK,GAAGA,KAAK,CAACG,aAAa,CAAC,0BAA0B,CAAC,GAAG,IAAI;EAChF,IAAMI,YAAY,GAAGP,KAAK,GAAGA,KAAK,CAACG,aAAa,CAAC,6BAA6B,CAAC,GAAG,IAAI;EACtF,IAAMK,kBAAkB,GAAGR,KAAK,GAAGA,KAAK,CAACG,aAAa,CAAC,oCAAoC,CAAC,GAAG,IAAI;;EAEnG;EACA;EACA,IAAMM,eAAe,GAAGX,QAAQ,CAACY,gBAAgB,KAAAC,MAAA,CAAKC,mBAAmB,CAACC,QAAQ,CAACC,gBAAgB,CAACC,iBAAiB,6BAA0B,CAAC;;EAEhJ;EACA,IAAMC,eAAe,GAAGJ,mBAAmB,CAACC,QAAQ,CAACC,gBAAgB;EACrE,IAAMG,eAAe,GAAGL,mBAAmB,CAACC,QAAQ,CAACK,OAAO;EAC5D,IAAMC,cAAc,GAAGP,mBAAmB,CAACO,cAAc;EACzD,IAAMC,gBAAgB,GAAGR,mBAAmB,CAACQ,gBAAgB,IAAI,EAAE;;EAEnE;;EAEA;AACJ;AACA;AACA;EACI,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAA2B;IAAA,IAAvBC,QAAQ,GAAA5B,SAAA,CAAA9C,MAAA,QAAA8C,SAAA,QAAA6B,SAAA,GAAA7B,SAAA,MAAG,OAAO;IACjC,IAAI,CAACM,KAAK,EAAE;;IAEZ;IACAA,KAAK,CAACwB,SAAS,CAACC,MAAM,CAAC,+BAA+B,CAAC;IACvDzB,KAAK,CAACwB,SAAS,CAACE,GAAG,CAAC,+BAA+B,CAAC;IACpD1B,KAAK,CAAC2B,KAAK,CAACC,OAAO,GAAG,MAAM,CAAC,CAAC;IAC9B5B,KAAK,CAAC6B,YAAY,CAAC,aAAa,EAAE,OAAO,CAAC;;IAE1C;IACAC,aAAa,CAACR,QAAQ,CAAC;;IAEvB;IACAS,UAAU,CAAC,YAAM;MACb/B,KAAK,CAACwB,SAAS,CAACE,GAAG,CAAC,8BAA8B,CAAC;IACvD,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;IAER;IACAM,gBAAgB,CAAC,CAAC;EACtB,CAAC;;EAED;AACJ;AACA;EACI,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;IACrB,IAAI,CAACjC,KAAK,EAAE;IAEZA,KAAK,CAACwB,SAAS,CAACC,MAAM,CAAC,+BAA+B,CAAC;IACvDzB,KAAK,CAACwB,SAAS,CAACE,GAAG,CAAC,+BAA+B,CAAC;IACpD1B,KAAK,CAAC6B,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC;;IAEzC;IACA7B,KAAK,CAACD,gBAAgB,CAAC,cAAc,EAAE,SAASmC,OAAOA,CAAA,EAAG;MACtD,IAAIlC,KAAK,CAACwB,SAAS,CAACW,QAAQ,CAAC,+BAA+B,CAAC,EAAE;QAC3DnC,KAAK,CAAC2B,KAAK,CAACC,OAAO,GAAG,MAAM;QAC5B5B,KAAK,CAACwB,SAAS,CAACC,MAAM,CAAC,8BAA8B,EAAE,+BAA+B,CAAC;MAC3F;MACAzB,KAAK,CAACoC,mBAAmB,CAAC,cAAc,EAAEF,OAAO,CAAC;IACtD,CAAC,CAAC;EACN,CAAC;;EAED;AACJ;AACA;AACA;EACI,IAAMJ,aAAa,GAAG,SAAhBA,aAAaA,CAAIO,IAAI,EAAK;IAC5B,IAAMC,KAAK,GAAG,CAAChC,SAAS,EAAEC,YAAY,EAAEC,kBAAkB,CAAC;IAC3D8B,KAAK,CAACC,OAAO,CAAC,UAAAC,IAAI,EAAI;MAClB,IAAIA,IAAI,EAAE;QACN;QACA;QACA,IAAIA,IAAI,CAACC,OAAO,CAAC,uBAAuB,CAAC,EAAE;UAAE;UACzC,IAAID,IAAI,CAACE,OAAO,CAACpB,QAAQ,KAAKe,IAAI,EAAE;YAChCG,IAAI,CAACb,KAAK,CAACC,OAAO,GAAG,OAAO,CAAC,CAAC;YAC9BY,IAAI,CAAChB,SAAS,CAACE,GAAG,CAAC,uBAAuB,CAAC;UAC/C,CAAC,MAAM;YACHc,IAAI,CAACb,KAAK,CAACC,OAAO,GAAG,MAAM;YAC3BY,IAAI,CAAChB,SAAS,CAACC,MAAM,CAAC,uBAAuB,CAAC;UAClD;QACJ;MACJ;IACJ,CAAC,CAAC;IACF;IACA,IAAIpB,aAAa,EAAE;MACfA,aAAa,CAACqC,OAAO,CAACC,UAAU,GAAGN,IAAI;IAC3C;EACJ,CAAC;;EAED;AACJ;AACA;AACA;AACA;AACA;EACI,IAAMO,WAAW,GAAG,SAAdA,WAAWA,CAAIC,WAAW,EAAEC,OAAO,EAAET,IAAI,EAAK;IAChD,IAAMU,iBAAiB,GAAGF,WAAW,CAAC1C,aAAa,CAAC,oBAAoB,CAAC;IACzE,IAAI4C,iBAAiB,EAAE;MACnBA,iBAAiB,CAACC,SAAS,oDAAArC,MAAA,CAAmD0B,IAAI,SAAA1B,MAAA,CAAKmC,OAAO,SAAM;MACpGC,iBAAiB,CAACpB,KAAK,CAACC,OAAO,GAAG,OAAO;MACzC;MACAG,UAAU,CAAC,YAAM;QACbgB,iBAAiB,CAACC,SAAS,GAAG,EAAE;QAChCD,iBAAiB,CAACpB,KAAK,CAACC,OAAO,GAAG,MAAM;MAC5C,CAAC,EAAE,IAAI,CAAC;IACZ;EACJ,CAAC;;EAED;AACJ;AACA;AACA;EACI,IAAMqB,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IAAA,IAAAC,qBAAA;IACvB,IAAI/B,cAAc,IAAIH,eAAe,CAACmC,oBAAoB,CAACC,mBAAmB,EAAE;MAC5E,OAAO,KAAK,CAAC,CAAC;IAClB;;IAEA;IACA,IAAMC,aAAa,GAAGrC,eAAe,CAACmC,oBAAoB,CAACG,kBAAkB,IAAI,EAAE;IACnF,IAAID,aAAa,CAACzG,MAAM,GAAG,CAAC,EAAE;MAC1B,IAAM2G,eAAe,GAAGnC,gBAAgB,CAACoC,IAAI,CAAC,UAAAC,IAAI;QAAA,OAAIJ,aAAa,CAACK,QAAQ,CAACD,IAAI,CAAC;MAAA,EAAC;MACnF,IAAI,CAACF,eAAe,EAAE;QAClB,OAAO,KAAK,CAAC,CAAC;MAClB;IACJ;;IAEA;IACA,IAAMI,gBAAgB,GAAG3C,eAAe,CAACmC,oBAAoB,CAACS,iBAAiB;IAC/E,IAAMC,QAAQ,GAAGC,MAAM,CAACC,UAAU,IAAI,GAAG,CAAC,CAAC;IAC3C,IAAMC,QAAQ,GAAGF,MAAM,CAACC,UAAU,GAAG,GAAG,IAAID,MAAM,CAACC,UAAU,IAAI,IAAI,CAAC,CAAC;IACvE,IAAME,SAAS,GAAGH,MAAM,CAACC,UAAU,GAAG,IAAI,CAAC,CAAC;;IAE5C,IAAKF,QAAQ,IAAI,CAACF,gBAAgB,CAACO,MAAM,IACpCF,QAAQ,IAAI,CAACL,gBAAgB,CAACQ,MAAO,IACrCF,SAAS,IAAI,CAACN,gBAAgB,CAACS,OAAQ,EAAE;MAC1C,OAAO,KAAK,CAAC,CAAC;IAClB;;IAEA;IACA,KAAAlB,qBAAA,GAAIlC,eAAe,CAACqD,gBAAgB,cAAAnB,qBAAA,eAAhCA,qBAAA,CAAkCoB,OAAO,EAAE;MAC3C,IAAMC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,qBAAqB,CAAC;MAC7D,IAAIF,SAAS,EAAE;QACX,IAAMG,aAAa,GAAGC,QAAQ,CAACJ,SAAS,EAAE,EAAE,CAAC;QAC7C,IAAMK,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;QAE9B,IAAI9D,eAAe,CAACqD,gBAAgB,CAAChC,IAAI,KAAK,SAAS,EAAE;UACrD;UACA,IAAI0C,cAAc,CAACN,OAAO,CAAC,wBAAwB,CAAC,EAAE;YAClD,OAAO,KAAK;UAChB;QACJ,CAAC,MAAM,IAAIzD,eAAe,CAACqD,gBAAgB,CAAChC,IAAI,KAAK,MAAM,EAAE;UACzD,IAAM2C,UAAU,GAAGhE,eAAe,CAACqD,gBAAgB,CAACY,IAAI;UACxD,IAAMC,UAAU,GAAG,CAACN,WAAW,GAAGF,aAAa,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;UACxE,IAAIQ,UAAU,GAAGF,UAAU,EAAE;YACzB,OAAO,KAAK,CAAC,CAAC;UAClB;QACJ;MACJ;IACJ;;IAEA;IACA;;IAEA,OAAO,IAAI;EACf,CAAC;;EAED;AACJ;AACA;EACI,IAAMhD,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;IAAA,IAAAmD,sBAAA;IAC3B,KAAAA,sBAAA,GAAInE,eAAe,CAACqD,gBAAgB,cAAAc,sBAAA,eAAhCA,sBAAA,CAAkCb,OAAO,EAAE;MAC3CE,YAAY,CAACY,OAAO,CAAC,qBAAqB,EAAEP,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC/F,QAAQ,CAAC,CAAC,CAAC;MAClEgG,cAAc,CAACK,OAAO,CAAC,wBAAwB,EAAE,MAAM,CAAC;IAC5D;EACJ,CAAC;;EAED;;EAEA;EACA,IAAIlF,WAAW,EAAE;IACbA,WAAW,CAACH,gBAAgB,CAAC,OAAO,EAAEkC,UAAU,CAAC;EACrD;;EAEA;EACA,IAAI7B,OAAO,EAAE;IACTA,OAAO,CAACL,gBAAgB,CAAC,OAAO,EAAEkC,UAAU,CAAC;EACjD;;EAEA;EACAnC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAE,UAAC3E,CAAC,EAAK;IACxC,IAAIA,CAAC,CAACiK,GAAG,KAAK,QAAQ,IAAIrF,KAAK,IAAIA,KAAK,CAACsF,YAAY,CAAC,aAAa,CAAC,KAAK,OAAO,EAAE;MAC9ErD,UAAU,CAAC,CAAC;IAChB;EACJ,CAAC,CAAC;;EAEF;EACAxB,eAAe,CAAC8B,OAAO,CAAC,UAAAgD,OAAO,EAAI;IAC/BA,OAAO,CAACxF,gBAAgB,CAAC,OAAO,EAAE,UAAC3E,CAAC,EAAK;MACrCA,CAAC,CAACoK,cAAc,CAAC,CAAC,CAAC,CAAC;MACpB,IAAMlE,QAAQ,GAAGiE,OAAO,CAAC7C,OAAO,CAAC+C,aAAa,IAAI,OAAO,CAAC,CAAC;MAC3D,IAAIxC,YAAY,CAAC,CAAC,EAAE;QAAE;QAClB5B,SAAS,CAACC,QAAQ,CAAC;MACvB;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;;EAEF;EACAtB,KAAK,CAACU,gBAAgB,CAAC,wBAAwB,CAAC,CAAC6B,OAAO,CAAC,UAAAmD,IAAI,EAAI;IAC7DA,IAAI,CAAC3F,gBAAgB,CAAC,OAAO,EAAE,UAAC3E,CAAC,EAAK;MAClCA,CAAC,CAACoK,cAAc,CAAC,CAAC;MAClB,IAAMG,UAAU,GAAGvK,CAAC,CAACwK,MAAM,CAAClD,OAAO,CAAC+C,aAAa;MACjD,IAAIE,UAAU,KAAK,OAAO,IAAIA,UAAU,KAAK,UAAU,IAAIA,UAAU,KAAK,iBAAiB,EAAE;QACzF7D,aAAa,CAAC6D,UAAU,CAAC;MAC7B;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;;EAEF;;EAEA;EACA7F,QAAQ,CAACY,gBAAgB,CAAC,qBAAqB,CAAC,CAAC6B,OAAO,CAAC,UAAAC,IAAI,EAAI;IAC7DA,IAAI,CAACzC,gBAAgB,CAAC,QAAQ;MAAA,IAAA8F,IAAA,GAAApG,iBAAA,cAAAjC,YAAA,GAAAE,CAAA,CAAE,SAAAoI,QAAO1K,CAAC;QAAA,IAAAkG,QAAA,EAAAyE,QAAA,EAAAhD,iBAAA,EAAAiD,WAAA,EAAAC,SAAA,EAAAC,KAAA,EAAAC,WAAA,EAAAd,GAAA,EAAApI,KAAA,EAAAmJ,QAAA,EAAAC,YAAA,EAAAC,QAAA,EAAAC,IAAA,EAAAC,aAAA,EAAAC,EAAA;QAAA,OAAAjJ,YAAA,GAAAC,CAAA,WAAAiJ,QAAA;UAAA,kBAAAA,QAAA,CAAAlL,CAAA;YAAA;cACpCJ,CAAC,CAACoK,cAAc,CAAC,CAAC,CAAC,CAAC;cAEdlE,QAAQ,GAAGkB,IAAI,CAACE,OAAO,CAACpB,QAAQ,EAAE;cAClCyE,QAAQ,GAAG,IAAIY,QAAQ,CAACnE,IAAI,CAAC;cAC7BO,iBAAiB,GAAGP,IAAI,CAACrC,aAAa,CAAC,oBAAoB,CAAC;cAClE4C,iBAAiB,CAACC,SAAS,GAAG,EAAE,CAAC,CAAC;cAClCD,iBAAiB,CAACpB,KAAK,CAACC,OAAO,GAAG,MAAM;;cAExC;cACMoE,WAAW,GAAG,CAAC,CAAC;cAAAC,SAAA,GAAAvH,0BAAA,CACGqH,QAAQ,CAACa,OAAO,CAAC,CAAC;cAAA;gBAA3C,KAAAX,SAAA,CAAApH,CAAA,MAAAqH,KAAA,GAAAD,SAAA,CAAAzK,CAAA,IAAAwB,IAAA,GAA6C;kBAAAmJ,WAAA,GAAAlI,cAAA,CAAAiI,KAAA,CAAAjJ,KAAA,MAAnCoI,GAAG,GAAAc,WAAA,KAAElJ,KAAK,GAAAkJ,WAAA;kBAChBH,WAAW,CAACX,GAAG,CAAC,GAAGpI,KAAK;gBAC5B;;gBAEA;cAAA,SAAA4J,GAAA;gBAAAZ,SAAA,CAAA7K,CAAA,CAAAyL,GAAA;cAAA;gBAAAZ,SAAA,CAAA7J,CAAA;cAAA;cACMgK,QAAQ,MAAAzF,MAAA,CAAMC,mBAAmB,CAACkG,OAAO,2BAAAnG,MAAA,CAAwBW,QAAQ;cAAAoF,QAAA,CAAArK,CAAA;cAG3E;cACMgK,YAAY,GAAG7D,IAAI,CAACrC,aAAa,CAAC,uBAAuB,CAAC;cAChE,IAAIkG,YAAY,EAAE;gBACdA,YAAY,CAACU,QAAQ,GAAG,IAAI;gBAC5B;gBACAV,YAAY,CAAC3D,OAAO,CAACsE,YAAY,GAAGX,YAAY,CAACrD,SAAS;gBAC1DqD,YAAY,CAACrD,SAAS,+CAAArC,MAAA,CAA6CC,mBAAmB,CAACC,QAAQ,CAACoG,MAAM,CAACC,OAAO,CAACC,OAAO,CAACC,WAAW,IAAI,eAAe,CAAE;cAC3J;cAACV,QAAA,CAAAlL,CAAA;cAAA,OAEsB6L,KAAK,CAACjB,QAAQ,EAAE;gBACnCkB,MAAM,EAAE,MAAM;gBACdC,OAAO,EAAE;kBACL,cAAc,EAAE,kBAAkB;kBAClC,YAAY,EAAE3G,mBAAmB,CAAC4G,KAAK,CAAE;gBAC7C,CAAC;gBACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC3B,WAAW,CAAC,CAAE;cACvC,CAAC,CAAC;YAAA;cAPIM,QAAQ,GAAAI,QAAA,CAAAlK,CAAA;cAAAkK,QAAA,CAAAlL,CAAA;cAAA,OASK8K,QAAQ,CAACsB,IAAI,CAAC,CAAC;YAAA;cAA5BrB,IAAI,GAAAG,QAAA,CAAAlK,CAAA;cAEV,IAAI+J,IAAI,CAACsB,OAAO,EAAE;gBACdjF,WAAW,CAACJ,IAAI,EAAE+D,IAAI,CAACA,IAAI,CAACzD,OAAO,IAAI,UAAU,EAAE,SAAS,CAAC;;gBAE7D;gBACA,IAAIyD,IAAI,CAACA,IAAI,CAACuB,YAAY,EAAE;kBACxB;kBACA/F,UAAU,CAAC,YAAM;oBACb+B,MAAM,CAACiE,QAAQ,CAACC,IAAI,GAAGzB,IAAI,CAACA,IAAI,CAACuB,YAAY;kBACjD,CAAC,EAAE,IAAI,CAAC;gBACZ,CAAC,MAAM,IAAIxG,QAAQ,KAAK,UAAU,IAAIL,eAAe,CAACgH,6BAA6B,EAAE;kBACjF;kBACAlG,UAAU,CAAC,YAAM;oBACb+B,MAAM,CAACiE,QAAQ,CAACG,MAAM,CAAC,CAAC;kBAC5B,CAAC,EAAE,IAAI,CAAC;gBACZ,CAAC,MAAM,IAAI5G,QAAQ,KAAK,iBAAiB,EAAE;kBACvC;gBAAA,CACH,MAAM;kBACH;kBACA,IAAIkB,IAAI,CAACC,OAAO,CAAC,uBAAuB,CAAC,EAAE;oBACvCV,UAAU,CAACE,UAAU,EAAE,IAAI,CAAC;kBAChC;gBACJ;cAEJ,CAAC,MAAM;gBACHW,WAAW,CAACJ,IAAI,EAAE+D,IAAI,CAACA,IAAI,CAACzD,OAAO,IAAI,sCAAsC,EAAE,OAAO,CAAC;cAC3F;cAAC4D,QAAA,CAAAlL,CAAA;cAAA;YAAA;cAAAkL,QAAA,CAAArK,CAAA;cAAAoK,EAAA,GAAAC,QAAA,CAAAlK,CAAA;cAEDoG,WAAW,CAACJ,IAAI,EAAE,0DAA0D,EAAE,OAAO,CAAC;cACtF2F,OAAO,CAACC,KAAK,CAAC,oCAAoC,EAAA3B,EAAO,CAAC;YAAC;cAAAC,QAAA,CAAArK,CAAA;cAErDgK,aAAY,GAAG7D,IAAI,CAACrC,aAAa,CAAC,uBAAuB,CAAC;cAChE,IAAIkG,aAAY,EAAE;gBACdA,aAAY,CAACU,QAAQ,GAAG,KAAK;gBAC7BV,aAAY,CAACrD,SAAS,GAAGqD,aAAY,CAAC3D,OAAO,CAACsE,YAAY,IAAI,QAAQ,CAAC,CAAC;cAC5E;cAAC,OAAAN,QAAA,CAAAtK,CAAA;YAAA;cAAA,OAAAsK,QAAA,CAAAjK,CAAA;UAAA;QAAA,GAAAqJ,OAAA;MAAA,CAER;MAAA,iBAAAuC,EAAA;QAAA,OAAAxC,IAAA,CAAAlG,KAAA,OAAAD,SAAA;MAAA;IAAA,IAAC;EACN,CAAC,CAAC;;EAEF;;EAEA;EACA,IAAM4I,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAA,EAAS;IAAA,IAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;IAChC,IAAI,CAAC1F,YAAY,CAAC,CAAC,EAAE;MACjB;IACJ;;IAEA;IACA,IAAM2F,SAAS,GAAG,IAAIC,eAAe,CAAC/E,MAAM,CAACiE,QAAQ,CAACe,MAAM,CAAC;IAC7D,IAAMC,QAAQ,GAAGH,SAAS,CAACI,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC;IACnD,IAAMC,eAAe,GAAGjI,eAAe,CAACmC,oBAAoB,CAAC+F,qBAAqB,CAACC,UAAU;IAC7F,IAAMC,gBAAgB,GAAGpI,eAAe,CAACmC,oBAAoB,CAAC+F,qBAAqB,CAACG,WAAW;IAC/F,IAAMC,oBAAoB,GAAGV,SAAS,CAACW,GAAG,CAACN,eAAe,CAAC,IAAIL,SAAS,CAACI,GAAG,CAACC,eAAe,CAAC,KAAKG,gBAAgB;IAElH,IAAIL,QAAQ,IAAI,CAAC,OAAO,EAAE,UAAU,EAAE,iBAAiB,CAAC,CAACrF,QAAQ,CAACqF,QAAQ,CAAC,EAAE;MACzE1H,SAAS,CAAC0H,QAAQ,CAAC;MACnB;IACJ,CAAC,MAAM,IAAIO,oBAAoB,EAAE;MAC7BjI,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;MACpB;IACJ;;IAGA;IACA,KAAAkH,qBAAA,GAAIvH,eAAe,CAACwI,iBAAiB,cAAAjB,qBAAA,eAAjCA,qBAAA,CAAmCjE,OAAO,EAAE;MAC5C,IAAMmF,KAAK,GAAGzI,eAAe,CAACwI,iBAAiB,CAACE,aAAa,GAAG,IAAI;MACpE3H,UAAU,CAAC,YAAM;QACbV,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;MACxB,CAAC,EAAEoI,KAAK,CAAC;MACT,OAAO,CAAC;IACZ;;IAEA;IACA,KAAAjB,sBAAA,GAAIxH,eAAe,CAAC2I,mBAAmB,cAAAnB,sBAAA,eAAnCA,sBAAA,CAAqClE,OAAO,EAAE;MAC9C,IAAIsF,WAAW,GAAG,KAAK;MACvB,IAAMC,cAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;QACxB,IAAMC,gBAAgB,GAAIhG,MAAM,CAACiG,OAAO,IAAIjK,QAAQ,CAACkK,eAAe,CAACC,YAAY,GAAGnG,MAAM,CAACoG,WAAW,CAAC,GAAI,GAAG;QAC9G,IAAIJ,gBAAgB,IAAI9I,eAAe,CAAC2I,mBAAmB,CAACQ,iBAAiB,IAAI,CAACP,WAAW,EAAE;UAC3FA,WAAW,GAAG,IAAI;UAClBvI,SAAS,CAAC,OAAO,CAAC;UAClByC,MAAM,CAAC1B,mBAAmB,CAAC,QAAQ,EAAEyH,cAAa,CAAC;QACvD;MACJ,CAAC;MACD/F,MAAM,CAAC/D,gBAAgB,CAAC,QAAQ,EAAE8J,cAAa,CAAC;IACpD;;IAEA;IACA,KAAApB,sBAAA,GAAIzH,eAAe,CAACoJ,wBAAwB,cAAA3B,sBAAA,eAAxCA,sBAAA,CAA0CnE,OAAO,EAAE;MACnD,IAAI+F,YAAY,GAAG,KAAK;MACxB,IAAMC,kBAAiB,GAAG,SAApBA,iBAAiBA,CAAIlP,CAAC,EAAK;QAC7B;QACA,IAAIA,CAAC,CAACmP,OAAO,GAAG,EAAE,IAAInP,CAAC,CAACoP,aAAa,KAAK,IAAI,IAAIpP,CAAC,CAACqP,SAAS,KAAK,IAAI,EAAE;UACpE,IAAI,CAACJ,YAAY,EAAE;YACfA,YAAY,GAAG,IAAI;YACnBhJ,SAAS,CAAC,OAAO,CAAC;YAClBvB,QAAQ,CAACsC,mBAAmB,CAAC,UAAU,EAAEkI,kBAAiB,CAAC;UAC/D;QACJ;MACJ,CAAC;MACDxK,QAAQ,CAACC,gBAAgB,CAAC,UAAU,EAAEuK,kBAAiB,CAAC;IAC5D;;IAEA;IACA,KAAA5B,sBAAA,GAAI1H,eAAe,CAAC0J,yBAAyB,cAAAhC,sBAAA,eAAzCA,sBAAA,CAA2CpE,OAAO,EAAE;MACpD,IAAMqG,IAAI,GAAG3J,eAAe,CAAC0J,yBAAyB,CAACE,YAAY,GAAG,IAAI;MAC1E7I,UAAU,CAAC,YAAM;QACbV,SAAS,CAAC,OAAO,CAAC;MACtB,CAAC,EAAEsJ,IAAI,CAAC;IACZ;;IAEA;IACA,KAAAhC,sBAAA,GAAI3H,eAAe,CAACmC,oBAAoB,CAAC0H,kBAAkB,cAAAlC,sBAAA,eAAvDA,sBAAA,CAAyDrE,OAAO,EAAE;MAClE,IAAMwG,YAAY,GAAG9J,eAAe,CAACmC,oBAAoB,CAAC0H,kBAAkB,CAACE,aAAa,IAAI,EAAE;MAChG,IAAMC,gBAAgB,GAAGlL,QAAQ,CAACmL,QAAQ;MAE1C,IAAID,gBAAgB,IAAIF,YAAY,CAAClO,MAAM,GAAG,CAAC,EAAE;QAC7C,IAAMsO,kBAAkB,GAAGJ,YAAY,CAACtH,IAAI,CAAC,UAAA2H,GAAG;UAAA,OAAIH,gBAAgB,CAACtH,QAAQ,CAACyH,GAAG,CAAC;QAAA,EAAC;QACnF,IAAID,kBAAkB,EAAE;UACpB7J,SAAS,CAAC,OAAO,CAAC;QACtB;MACJ;IACJ;EACJ,CAAC;;EAED;EACAiH,qBAAqB,CAAC,CAAC;;EAEvB;EACAxI,QAAQ,CAACY,gBAAgB,CAAC,iDAAiD,CAAC,CAAC6B,OAAO,CAAC,UAAAC,IAAI,EAAI;IACzFA,IAAI,CAACb,KAAK,CAACC,OAAO,GAAG,OAAO;IAC5BY,IAAI,CAAChB,SAAS,CAACE,GAAG,CAAC,uBAAuB,CAAC,CAAC,CAAC;EACjD,CAAC,CAAC;AACN,CAAC,CAAC,C;;;;;;;;;;;ACpZF;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E","sources":["webpack://th-login/./src/public/frontend.js","webpack://th-login/./src/public/styles/frontend.scss?a946","webpack://th-login/webpack/bootstrap","webpack://th-login/webpack/runtime/make namespace object","webpack://th-login/./src/public/index.js"],"sourcesContent":["// Import necessary utilities if needed.\r\n// For now, we'll use vanilla JS for core modal logic.\r\nimport './styles/frontend.scss';\r\n// Ensure the DOM is fully loaded before attempting to interact with elements.\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n    // Get references to the main modal elements.\r\n    const modal = document.getElementById('th-login-popup-modal');\r\n    const closeButton = modal ? modal.querySelector('.th-login-popup-close-button') : null;\r\n    const overlay = modal ? modal.querySelector('.th-login-popup-overlay') : null;\r\n    const formContainer = modal ? modal.querySelector('.th-login-popup-form-container') : null;\r\n\r\n    // Get references to all form types within the modal.\r\n    const loginForm = modal ? modal.querySelector('[data-form-type=\"login\"]') : null;\r\n    const registerForm = modal ? modal.querySelector('[data-form-type=\"register\"]') : null;\r\n    const forgotPasswordForm = modal ? modal.querySelector('[data-form-type=\"forgot-password\"]') : null;\r\n\r\n    // Get all elements that can trigger the modal.\r\n    // This will include elements with the custom CSS class and shortcode links.\r\n    const triggerElements = document.querySelectorAll(`.${thLoginFrontendData.settings.display_triggers.trigger_css_class}, [data-th-popup-action]`);\r\n\r\n    // Retrieve settings for easier access.\r\n    const displayTriggers = thLoginFrontendData.settings.display_triggers;\r\n    const generalSettings = thLoginFrontendData.settings.general;\r\n    const isUserLoggedIn = thLoginFrontendData.isUserLoggedIn;\r\n    const currentUserRoles = thLoginFrontendData.currentUserRoles || [];\r\n\r\n    // --- Helper Functions for Modal Control ---\r\n\r\n    /**\r\n     * Opens the modal and sets the active form.\r\n     * @param {string} formType 'login', 'register', or 'forgot-password'.\r\n     */\r\n    const openModal = (formType = 'login') => {\r\n        if (!modal) return;\r\n\r\n        // Apply animations (CSS classes will handle actual animation).\r\n        modal.classList.remove('th-login-popup-modal--closing');\r\n        modal.classList.add('th-login-popup-modal--opening');\r\n        modal.style.display = 'flex'; // Use flex to center content.\r\n        modal.setAttribute('aria-hidden', 'false');\r\n\r\n        // Set the active form.\r\n        setActiveForm(formType);\r\n\r\n        // Add a class after a short delay to trigger CSS transitions for content.\r\n        setTimeout(() => {\r\n            modal.classList.add('th-login-popup-modal--active');\r\n        }, 50); // Small delay to allow 'display: flex' to apply before transition.\r\n\r\n        // Record that the popup was shown for frequency control.\r\n        recordPopupShown();\r\n    };\r\n\r\n    /**\r\n     * Closes the modal.\r\n     */\r\n    const closeModal = () => {\r\n        if (!modal) return;\r\n\r\n        modal.classList.remove('th-login-popup-modal--opening');\r\n        modal.classList.add('th-login-popup-modal--closing');\r\n        modal.setAttribute('aria-hidden', 'true');\r\n\r\n        // Listen for animation end to hide completely.\r\n        modal.addEventListener('animationend', function handler() {\r\n            if (modal.classList.contains('th-login-popup-modal--closing')) {\r\n                modal.style.display = 'none';\r\n                modal.classList.remove('th-login-popup-modal--active', 'th-login-popup-modal--closing');\r\n            }\r\n            modal.removeEventListener('animationend', handler);\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Switches the currently visible form within the modal.\r\n     * @param {string} type The type of form to show ('login', 'register', 'forgot-password').\r\n     */\r\n    const setActiveForm = (type) => {\r\n        const forms = [loginForm, registerForm, forgotPasswordForm];\r\n        forms.forEach(form => {\r\n            if (form) {\r\n                // For forms within the main modal, hide/show.\r\n                // For shortcode-embedded forms, they manage their own display.\r\n                if (form.closest('#th-login-popup-modal')) { // Check if form is inside the modal\r\n                    if (form.dataset.formType === type) {\r\n                        form.style.display = 'block'; // Or 'flex' if using flexbox for internal form layout\r\n                        form.classList.add('th-login-form--active');\r\n                    } else {\r\n                        form.style.display = 'none';\r\n                        form.classList.remove('th-login-form--active');\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        // Optional: Add a class to the form container to trigger form-specific animations.\r\n        if (formContainer) {\r\n            formContainer.dataset.activeForm = type;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Displays a message within the active form.\r\n     * @param {HTMLElement} formElement The form element where the message should be displayed.\r\n     * @param {string} message The message text.\r\n     * @param {string} type 'success' or 'error'.\r\n     */\r\n    const showMessage = (formElement, message, type) => {\r\n        const messagesContainer = formElement.querySelector('.th-login-messages');\r\n        if (messagesContainer) {\r\n            messagesContainer.innerHTML = `<p class=\"th-login-message th-login-message--${type}\">${message}</p>`;\r\n            messagesContainer.style.display = 'block';\r\n            // Clear message after a few seconds.\r\n            setTimeout(() => {\r\n                messagesContainer.innerHTML = '';\r\n                messagesContainer.style.display = 'none';\r\n            }, 5000);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Checks if the modal should be displayed based on global conditions.\r\n     * @returns {boolean} True if conditions allow display, false otherwise.\r\n     */\r\n    const canShowModal = () => {\r\n        if (isUserLoggedIn && displayTriggers.auto_open_conditions.for_logged_out_only) {\r\n            return false; // Only for logged out users.\r\n        }\r\n\r\n        // Check for specific roles (if enabled).\r\n        const specificRoles = displayTriggers.auto_open_conditions.for_specific_roles || [];\r\n        if (specificRoles.length > 0) {\r\n            const hasMatchingRole = currentUserRoles.some(role => specificRoles.includes(role));\r\n            if (!hasMatchingRole) {\r\n                return false; // User does not have a required role.\r\n            }\r\n        }\r\n\r\n        // Check device visibility.\r\n        const deviceVisibility = displayTriggers.auto_open_conditions.device_visibility;\r\n        const isMobile = window.innerWidth <= 768; // Common breakpoint for mobile\r\n        const isTablet = window.innerWidth > 768 && window.innerWidth <= 1024; // Common breakpoint for tablet\r\n        const isDesktop = window.innerWidth > 1024; // Common breakpoint for desktop\r\n\r\n        if ((isMobile && !deviceVisibility.mobile) ||\r\n            (isTablet && !deviceVisibility.tablet) ||\r\n            (isDesktop && !deviceVisibility.desktop)) {\r\n            return false; // Not visible on this device.\r\n        }\r\n\r\n        // Check pop-up frequency.\r\n        if (displayTriggers.pop_up_frequency?.enabled) {\r\n            const lastShown = localStorage.getItem('th_login_last_shown');\r\n            if (lastShown) {\r\n                const lastShownTime = parseInt(lastShown, 10);\r\n                const currentTime = Date.now();\r\n\r\n                if (displayTriggers.pop_up_frequency.type === 'session') {\r\n                    // If already shown in this session, don't show again.\r\n                    if (sessionStorage.getItem('th_login_session_shown')) {\r\n                        return false;\r\n                    }\r\n                } else if (displayTriggers.pop_up_frequency.type === 'days') {\r\n                    const daysToHide = displayTriggers.pop_up_frequency.days;\r\n                    const daysPassed = (currentTime - lastShownTime) / (1000 * 60 * 60 * 24);\r\n                    if (daysPassed < daysToHide) {\r\n                        return false; // Not enough days passed.\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Check page/content conditions (PHP handles most of this, but JS can add checks).\r\n        // If the modal HTML is rendered, it means PHP conditions (pages, categories, tags, WooCommerce) are met.\r\n\r\n        return true;\r\n    };\r\n\r\n    /**\r\n     * Records that the popup was shown for frequency control.\r\n     */\r\n    const recordPopupShown = () => {\r\n        if (displayTriggers.pop_up_frequency?.enabled) {\r\n            localStorage.setItem('th_login_last_shown', Date.now().toString());\r\n            sessionStorage.setItem('th_login_session_shown', 'true');\r\n        }\r\n    };\r\n\r\n    // --- Event Listeners ---\r\n\r\n    // 1. Close button click.\r\n    if (closeButton) {\r\n        closeButton.addEventListener('click', closeModal);\r\n    }\r\n\r\n    // 2. Overlay click (to close modal).\r\n    if (overlay) {\r\n        overlay.addEventListener('click', closeModal);\r\n    }\r\n\r\n    // 3. Keyboard (Escape key) to close modal.\r\n    document.addEventListener('keydown', (e) => {\r\n        if (e.key === 'Escape' && modal && modal.getAttribute('aria-hidden') === 'false') {\r\n            closeModal();\r\n        }\r\n    });\r\n\r\n    // 4. Trigger elements (buttons, links) to open modal.\r\n    triggerElements.forEach(element => {\r\n        element.addEventListener('click', (e) => {\r\n            e.preventDefault(); // Prevent default link/button behavior.\r\n            const formType = element.dataset.thPopupAction || 'login'; // Default to login if not specified.\r\n            if (canShowModal()) { // Check global conditions before opening via manual trigger.\r\n                openModal(formType);\r\n            }\r\n        });\r\n    });\r\n\r\n    // 5. Form switching links within the modal.\r\n    modal.querySelectorAll('[data-th-popup-action]').forEach(link => {\r\n        link.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            const actionType = e.target.dataset.thPopupAction;\r\n            if (actionType === 'login' || actionType === 'register' || actionType === 'forgot-password') {\r\n                setActiveForm(actionType);\r\n            }\r\n        });\r\n    });\r\n\r\n    // --- REST API Form Submission Handling ---\r\n\r\n    // Target both modal forms and shortcode forms.\r\n    document.querySelectorAll('.th-login-ajax-form').forEach(form => {\r\n        form.addEventListener('submit', async (e) => {\r\n            e.preventDefault(); // Prevent default form submission.\r\n\r\n            const formType = form.dataset.formType; // 'login', 'register', 'forgot-password'\r\n            const formData = new FormData(form);\r\n            const messagesContainer = form.querySelector('.th-login-messages');\r\n            messagesContainer.innerHTML = ''; // Clear previous messages.\r\n            messagesContainer.style.display = 'none';\r\n\r\n            // Convert FormData to a plain object for JSON body.\r\n            const requestData = {};\r\n            for (let [key, value] of formData.entries()) {\r\n                requestData[key] = value;\r\n            }\r\n\r\n            // Determine the REST API endpoint based on form type.\r\n            const endpoint = `${thLoginFrontendData.siteUrl}/wp-json/th-login/v1/${formType}`;\r\n\r\n            try {\r\n                // Simulate loading state.\r\n                const submitButton = form.querySelector('button[type=\"submit\"]');\r\n                if (submitButton) {\r\n                    submitButton.disabled = true;\r\n                    // Store original button text to restore later.\r\n                    submitButton.dataset.originalText = submitButton.innerHTML;\r\n                    submitButton.innerHTML = `<span class=\"th-login-spinner\"></span> ${thLoginFrontendData.settings.design.buttons.primary.text_saving || 'Processing...'}`;\r\n                }\r\n\r\n                const response = await fetch(endpoint, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'X-WP-Nonce': thLoginFrontendData.nonce, // Include the nonce for security.\r\n                    },\r\n                    body: JSON.stringify(requestData), // Send data as JSON.\r\n                });\r\n\r\n                const data = await response.json();\r\n\r\n                if (data.success) {\r\n                    showMessage(form, data.data.message || 'Success!', 'success');\r\n\r\n                    // Handle redirection based on settings.\r\n                    if (data.data.redirect_url) {\r\n                        // Small delay to allow message to be seen.\r\n                        setTimeout(() => {\r\n                            window.location.href = data.data.redirect_url;\r\n                        }, 1000);\r\n                    } else if (formType === 'register' && generalSettings.auto_login_after_registration) {\r\n                        // If auto-login is enabled and no specific redirect, just reload the page to reflect login status.\r\n                        setTimeout(() => {\r\n                            window.location.reload();\r\n                        }, 1000);\r\n                    } else if (formType === 'forgot-password') {\r\n                        // For forgot password, just show success message and keep modal open for user to read.\r\n                    } else {\r\n                        // For other successful submissions without redirect, just close the modal if it's the popup.\r\n                        if (form.closest('#th-login-popup-modal')) {\r\n                            setTimeout(closeModal, 1000);\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    showMessage(form, data.data.message || 'An error occurred. Please try again.', 'error');\r\n                }\r\n            } catch (error) {\r\n                showMessage(form, 'An unexpected error occurred. Please check your network.', 'error');\r\n                console.error('TH Login: Frontend REST API Error:', error);\r\n            } finally {\r\n                const submitButton = form.querySelector('button[type=\"submit\"]');\r\n                if (submitButton) {\r\n                    submitButton.disabled = false;\r\n                    submitButton.innerHTML = submitButton.dataset.originalText || 'Submit'; // Restore original text.\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    // --- Auto-Open Logic ---\r\n\r\n    // Check if modal should auto-open based on conditions.\r\n    const checkAndAutoOpenModal = () => {\r\n        if (!canShowModal()) {\r\n            return;\r\n        }\r\n\r\n        // Priority for URL parameter from WooCommerce or custom triggers.\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const wcAction = urlParams.get('th_login_action'); // For WooCommerce redirects.\r\n        const customParamName = displayTriggers.auto_open_conditions.url_parameter_trigger.param_name;\r\n        const customParamValue = displayTriggers.auto_open_conditions.url_parameter_trigger.param_value;\r\n        const customParamTriggered = urlParams.has(customParamName) && urlParams.get(customParamName) === customParamValue;\r\n\r\n        if (wcAction && ['login', 'register', 'forgot-password'].includes(wcAction)) {\r\n            openModal(wcAction);\r\n            return;\r\n        } else if (customParamTriggered) {\r\n            openModal('login'); // Default to login for generic URL param trigger.\r\n            return;\r\n        }\r\n\r\n\r\n        // Auto-Open on Page Load\r\n        if (displayTriggers.auto_open_on_load?.enabled) {\r\n            const delay = displayTriggers.auto_open_on_load.delay_seconds * 1000;\r\n            setTimeout(() => {\r\n                openModal('login'); // Default to login on auto-open.\r\n            }, delay);\r\n            return; // Only one auto-open trigger should fire.\r\n        }\r\n\r\n        // Auto-Open on Scroll\r\n        if (displayTriggers.auto_open_on_scroll?.enabled) {\r\n            let hasScrolled = false;\r\n            const scrollHandler = () => {\r\n                const scrollPercentage = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;\r\n                if (scrollPercentage >= displayTriggers.auto_open_on_scroll.scroll_percentage && !hasScrolled) {\r\n                    hasScrolled = true;\r\n                    openModal('login');\r\n                    window.removeEventListener('scroll', scrollHandler);\r\n                }\r\n            };\r\n            window.addEventListener('scroll', scrollHandler);\r\n        }\r\n\r\n        // Auto-Open on Exit Intent\r\n        if (displayTriggers.auto_open_on_exit_intent?.enabled) {\r\n            let mouseLeaving = false;\r\n            const exitIntentHandler = (e) => {\r\n                // Check if mouse is moving towards the top of the viewport\r\n                if (e.clientY < 50 && e.relatedTarget === null && e.toElement === null) {\r\n                    if (!mouseLeaving) {\r\n                        mouseLeaving = true;\r\n                        openModal('login');\r\n                        document.removeEventListener('mouseout', exitIntentHandler);\r\n                    }\r\n                }\r\n            };\r\n            document.addEventListener('mouseout', exitIntentHandler);\r\n        }\r\n\r\n        // Auto-Open on Time on Page\r\n        if (displayTriggers.auto_open_on_time_on_page?.enabled) {\r\n            const time = displayTriggers.auto_open_on_time_on_page.time_seconds * 1000;\r\n            setTimeout(() => {\r\n                openModal('login');\r\n            }, time);\r\n        }\r\n\r\n        // Referrer Detection\r\n        if (displayTriggers.auto_open_conditions.referrer_detection?.enabled) {\r\n            const referrerUrls = displayTriggers.auto_open_conditions.referrer_detection.referrer_urls || [];\r\n            const documentReferrer = document.referrer;\r\n\r\n            if (documentReferrer && referrerUrls.length > 0) {\r\n                const isMatchingReferrer = referrerUrls.some(url => documentReferrer.includes(url));\r\n                if (isMatchingReferrer) {\r\n                    openModal('login');\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    // Initial check for auto-open conditions after DOM is ready.\r\n    checkAndAutoOpenModal();\r\n\r\n    // Ensure shortcode-embedded forms are visible by default.\r\n    document.querySelectorAll('.th-login-shortcode-form-wrapper .th-login-form').forEach(form => {\r\n        form.style.display = 'block';\r\n        form.classList.add('th-login-form--active'); // Mark as active if embedded directly.\r\n    });\r\n});\r\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './frontend';"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","enumerable","configurable","writable","_invoke","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","next","push","Array","isArray","_createForOfIteratorHelper","_n","F","s","_arrayLikeToArray","toString","slice","constructor","name","from","test","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","document","addEventListener","modal","getElementById","closeButton","querySelector","overlay","formContainer","loginForm","registerForm","forgotPasswordForm","triggerElements","querySelectorAll","concat","thLoginFrontendData","settings","display_triggers","trigger_css_class","displayTriggers","generalSettings","general","isUserLoggedIn","currentUserRoles","openModal","formType","undefined","classList","remove","add","style","display","setAttribute","setActiveForm","setTimeout","recordPopupShown","closeModal","handler","contains","removeEventListener","type","forms","forEach","form","closest","dataset","activeForm","showMessage","formElement","message","messagesContainer","innerHTML","canShowModal","_displayTriggers$pop_","auto_open_conditions","for_logged_out_only","specificRoles","for_specific_roles","hasMatchingRole","some","role","includes","deviceVisibility","device_visibility","isMobile","window","innerWidth","isTablet","isDesktop","mobile","tablet","desktop","pop_up_frequency","enabled","lastShown","localStorage","getItem","lastShownTime","parseInt","currentTime","Date","now","sessionStorage","daysToHide","days","daysPassed","_displayTriggers$pop_2","setItem","key","getAttribute","element","preventDefault","thPopupAction","link","actionType","target","_ref","_callee","formData","requestData","_iterator","_step","_step$value","endpoint","submitButton","response","data","_submitButton","_t","_context","FormData","entries","err","siteUrl","disabled","originalText","design","buttons","primary","text_saving","fetch","method","headers","nonce","body","JSON","stringify","json","success","redirect_url","location","href","auto_login_after_registration","reload","console","error","_x","checkAndAutoOpenModal","_displayTriggers$auto","_displayTriggers$auto2","_displayTriggers$auto3","_displayTriggers$auto4","_displayTriggers$auto5","urlParams","URLSearchParams","search","wcAction","get","customParamName","url_parameter_trigger","param_name","customParamValue","param_value","customParamTriggered","has","auto_open_on_load","delay","delay_seconds","auto_open_on_scroll","hasScrolled","scrollHandler","scrollPercentage","scrollY","documentElement","scrollHeight","innerHeight","scroll_percentage","auto_open_on_exit_intent","mouseLeaving","exitIntentHandler","clientY","relatedTarget","toElement","auto_open_on_time_on_page","time","time_seconds","referrer_detection","referrerUrls","referrer_urls","documentReferrer","referrer","isMatchingReferrer","url"],"sourceRoot":""}